const puppeteer = require('puppeteer');
const fs = require("fs");

let arr = {
  '13131':
  'くれは',
  '17307':
  'ひなせ',
  '15724':
  'なつ',
  '12967':
  'かなで',
  '12485':
  'すみれ',
  '15446':
  '景子',
  '17343':
  'あの',
  '19845':
  'アイス',
  '17139':
  'うめ',
  '16834':
  'かな',
  '14836':
  'みみ',
  '16328':
  'つばさ',
  '16685':
  'えり',
  '13821':
  'ゆめ',
  '16008':
  'ちよな',
  '13875':
  'ひめか',
  '16885':
  'いやし',
  '10071':
  'とわ',
  '15142':
  'らん',
  '10060':
  'しおん',
  '14667':
  'ももか',
  '13965':
  'あおい',
  '16077':
  'もえか',
  '16469':
  'えれな',
  '17648':
  'のり',
  '17515':
  'ゆな',
  '17541':
  'みこ',
  '17587':
  'すずか',
  '17637':
  'あきほ',
  '17754':
  'みづき',
  '14836':
  'みみ',
  '16328':
  'つばさ',
  '16685':
  'えり',
  '13821':
  'ゆめ',
  '16008':
  'ちよな',
  '13875':
  'ひめか',
  '16885':
  'いやし',
  '10071':
  'とわ',
  '15142':
  'らん',
  '10060':
  'しおん',
  '14836':
  'みみ',
  '16328':
  'つばさ',
  '16685':
  'えり',
  '13821':
  'ゆめ',
  '16008':
  'ちよな',
  '13875':
  'ひめか',
  '16885':
  'いやし',
  '10071':
  'とわ',
  '15142':
  'らん',
  '10060':
  'しおん',
  '14836':
  'みみ',
  '16328':
  'つばさ',
  '16685':
  'えり',
  '13821':
  'ゆめ',
  '16008':
  'ちよな',
  '13875':
  'ひめか',
  '16885':
  'いやし',
  '10071':
  'とわ',
  '15142':
  'らん',
  '10060':
  'しおん',
  '14667':
  'ももか',
  '13965':
  'あおい',
  '16077':
  'もえか',
  '16469':
  'えれな',
  '17648':
  'のり',
  '17515':
  'ゆな',
  '17541':
  'みこ',
  '17587':
  'すずか',
  '17637':
  'あきほ',
  '17754':
  'みづき',
  '17797':
  'さや',
  '18123':
  'めぐ',
  '18221':
  'ももな',
  '18347':
  'みかさ',
  '18647':
  'みく',
  '18693':
  'みれい',
  '18700':
  'るか',
  '18772':
  'えりか',
  '18802':
  'いと',
  '18808':
  'あいり',
  '18823':
  'みいひ',
  '18866':
  'りょう',
  '18873':
  'あさ',
  '18882':
  'なつの',
  '18895':
  'あや',
  '18906':
  'しずく',
  '18965':
  'りお',
  '19064':
  'かんな',
  '19070':
  'ゆずき',
  '19083':
  'さなえ',
  '19086':
  'こと',
  '19112':
  'はるか',
  '19115':
  'あかね',
  '19134':
  'みぃ',
  '19200':
  'りる',
  '19239':
  'なな',
  '19253':
  'とも',
  '19302':
  'ゆきの',
  '19305':
  'りさ',
  '19312':
  'ひなみ',
  '19328':
  'ありさ',
  '19379':
  'なぎ',
  '19393':
  'ききょう',
  '19404':
  'さら',
  '19420':
  'ゆき',
  '19443':
  'ひかる',
  '19449':
  'ぺこ',
  '19452':
  'のぞみ',
  '19488':
  'じゅり',
  '19506':
  'えま',
  '19521':
  'うさぎ',
  '19535':
  'つむぎ',
  '19542':
  'みる',
  '19575':
  'かおる',
  '19578':
  'らんぷ',
  '19580':
  'りん',
  '19593':
  'ほしの',
  '19609':
  'ゆうり',
  '19611':
  'ゆうあ',
  '19618':
  'みき',
  };

(async () => {
  for (let key in arr) {
    const browser = await puppeteer.launch();
    const page = await browser.newPage();
    async function sleep(delay) {
      return new Promise(resolve => setTimeout(resolve, delay));
    }
    await page.setDefaultNavigationTimeout(0); 
    await page.goto('http://speed-speed.com/shop/umeda/privete-photo_movie/' + key + '/');
    await page.evaluate(() => {
      document.querySelector('.pager-more').click();
    });
    await sleep(8000);
    await page.evaluate(() => {
      document.querySelector('.pager-more').click();
    });
    await sleep(8000);
    // await page.pdf({ path: 'umeda/' + arr[key] + '.pdf', format: 'A4' })
    const html = await page.content();
    fs.writeFileSync("umedashamails/" + arr[key] + ".html", html);
    await browser.close();
  }
})();